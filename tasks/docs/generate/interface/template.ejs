---
tags:
- Vintner
---

# Interface

{{ autogenerated_notice('./task docs:generate:interface') }}

This document holds the interface specification.

<% data.forEach(({commands, usage, description, options, cli, server}) => { %>
## <%- usage %>

<%- description %>

<% if (cli) { %>
=== "CLI"
    ```shell linenums="1"
    <%- usage -%> <%- options.filter(o => o.mandatory).map(o => `--${o.option} \${${o.option.toUpperCase()}}`).join(' ') %>
    ```
<% } -%>

<% if (server) { -%>
=== "cURL"
    ```shell linenums="1"
    curl --header "Content-Type: application/json" \
            --request POST \
<% if (options.filter(o => o.mandatory).length !== 0) {-%>
            --data '{<%- options.filter(option => option.mandatory).map(option => `"${option.option}": "\${${option.option.toUpperCase()}}"`).join(', ') %>}' \
<% } -%>
            ${SERVER_ADDRESS}/<%- commands.join('/') %>
    ```

=== "JavaScript"
    ```javascript linenums="1"
    const axios = require("axios")
<% if (options.filter(o => o.mandatory).length !== 0) { -%>
    await axios.post(SERVER_ADDRESS + "/<%- commands.join('/') -%>", {
<%- options.filter(o => o.mandatory).map(o => `\t\t${o.option}: ${o.option.toUpperCase()}`).join(',\n') %>
    })
<% } else { -%>
    await axios.post(SERVER_ADDRESS + "/<%- commands.join('/') -%>")
<% } -%>
    ```

=== "Python"
    ```python linenums="1"
    import requests
<% if (options.filter(o => o.mandatory).length !== 0) { -%>
    requests.post(SERVER_ADDRESS + "/<%- commands.join('/') -%>", json={
<%- options.filter(o => o.mandatory).map(o => `\t\t"${o.option}": ${o.option.toUpperCase()}`).join(',\n')  %>
    })
<% } else { -%>
    requests.post(SERVER_ADDRESS + "/<%- commands.join('/') -%>")
<% } -%>
    ```

=== "Kotlin"
    ```kotlin linenums="1"
    import khttp.post
<% if (options.filter(o => o.mandatory).length !== 0) { -%>
    post(SERVER_ADDRESS + "/<%- commands.join('/') -%>", json=mapOf(
<%- options.filter(o => o.mandatory).map(o => `\t\t"${o.option}" to ${o.option.toUpperCase()}`).join(',\n')  %>
    ))
<% } else { -%>
    post(SERVER_ADDRESS + "/<%- commands.join('/') -%>")
<% } -%>
    ```
<% } -%>
<% if (options.length !== 0) { %>
| Option | Mandatory | Type | Description |
| --- | --- | --- | --- |
<% options.forEach(option => { -%>
| <%- option.option -%> |  <%-  option.mandatory -%>  | <%-  option.type -%> | <%-  option.description -%> |
<% }) -%>
<% } -%>
<% }) %>