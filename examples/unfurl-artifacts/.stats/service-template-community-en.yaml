tosca_definitions_version: tosca_variability_1_0

topology_template:
    node_templates:
        shop:
            type: node.app
            properties:
                - DB_DIALECT: sqlite
                - APPLICATION_LANGUAGE: EN
            requirements:
                - host:
                      node: os_runtime
                - database:
                      node: os_database
            artifacts:
                - artifact:
                      type: tosca.artifacts.File
                      file: files/application.community.xz

        os_runtime:
            type: node.runtime
            requirements:
                - host:
                      node: os_vm

        os_database:
            type: sqlite.database
            requirements:
                - host:
                      node: os_vm

        os_vm:
            type: os.vm
            properties:
                flavor_name: 'm1.small'
