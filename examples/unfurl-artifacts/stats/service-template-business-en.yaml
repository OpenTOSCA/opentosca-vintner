tosca_definitions_version: tosca_simple_yaml_1_3

description: |
    This non-executable topology template contains only elements that are required for the complexity evaluation. 
    An executable topology template can be generated by resolving the variability of the executable variable deployment model.

topology_template:
    node_templates:
        shop:
            type: shop.app
            properties:
                - DB_DIALECT: mysql
                - APPLICATION_LANGUAGE: EN
                - APPLICATION_ANALYTICAL_REPORTS: false
            requirements:
                - host:
                      node: gcp_runtime
                - database:
                      node: gcp_database
            artifacts:
                - artifact:
                      type: tosca.artifacts.File
                      file: files/application.enterprise.zip

        gcp_runtime:
            type: gcp.runtime
            properties:
                auto_scaling: true

        gcp_database:
            type: gcp.database
            requirements:
                - host:
                      node: gcp_dbms

        gcp_dbms:
            type: gcp.dbms
            properties:
                - backups: true
                - availability_type: ZONAL
