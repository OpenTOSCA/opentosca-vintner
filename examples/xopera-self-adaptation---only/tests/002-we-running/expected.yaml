tosca_definitions_version: tosca_simple_yaml_1_3

imports:
    - lib/scenario/types.yaml
    - lib/compute/types.yaml
    - lib/sensors/types.yaml

topology_template:
    inputs:
        vintner:
            type: string
            default: http://localhost:3000

    node_templates:
        application:
            type: scenario.application
            properties:
                scale: 1
            requirements:
                - host:
                      node: compute_raspberry
            artifacts:
                binary:
                    file: files/application-linux-arm64.bin

        compute_raspberry:
            type: compute.raspberry

        sensor_compute_raspberry:
            type: sensor.compute
            properties:
                vintner: {get_input: vintner}
            requirements:
                - host: compute_raspberry

        sensor_weekday:
            type: sensor.weekday
            properties:
                vintner: {get_input: vintner}
