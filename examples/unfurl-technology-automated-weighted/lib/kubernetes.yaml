tosca_definitions_version: tosca_simple_yaml_1_3

node_types:
    kubernetes:
        derived_from: unfurl.nodes.K8sCluster

        attributes:
            api_server:
                type: string
                default: {get_input: k8s_api_server}

        capabilities:
            endpoint:
                type: unfurl.capabilities.Endpoint.K8sCluster
                properties:
                    credential:
                        auth_type: api_key
                        cert_file: {get_input: k8s_ca_cert_file}
                        ca_cert: {get_input: k8s_client_cert_file}
                        key_file: {get_input: k8s_client_key_file}

    kubernetes.namespace:
        derived_from: unfurl.nodes.K8sNamespace

        capabilities:
            host:
                type: tosca.capabilities.Compute
